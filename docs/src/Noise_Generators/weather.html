<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.1" />
<title>src.Noise_Generators.weather API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>src.Noise_Generators.weather</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import numpy as np
import matplotlib.pyplot as plt
from PIL import Image
import matplotlib.pyplot as plt
import matplotlib.image as mpimg
import  random
import  math
import os,sys,inspect
from cv2 import cv2
current_dir = os.path.dirname(os.path.abspath(inspect.getfile(inspect.currentframe())))
parent_dir = os.path.dirname(current_dir)
sys.path.insert(0, parent_dir) 
from src.general_image_func import changeImageSize,merge_two_images,convertToPILImg
from src.global_paths import get_paths
class weather:
    &#34;&#34;&#34;The weather class is a class used to draw snow and rain onto exsistig pictures

    Returns:
        Image.Image: The image returned will have add some noise based on the config file given to the function at instatiaction.
    &#34;&#34;&#34;
    #default values
    rain_drops = 200
    drop_length = 2
    drop_width = 2
    blurr = (5,5)
    color = (200,200,200)

    def __init__(self,config:dict)-&gt;object:
        &#34;&#34;&#34;Instatiation of the class with a config file will overide the default values

        Args:
            config (dict): The input should be a dictionary where the key is the name of the variable to change,
            The value would then be the value refresen by the keyword.
            keys = [&#39;rain_drops&#39;,&#39;drop_length&#39;,&#39;drop_width,&#39;blurr,&#39;color&#39;]
        &#34;&#34;&#34;
        keys = [&#39;rain_drops&#39;,&#39;drop_length&#39;,&#39;drop_width&#39;,&#39;blurr&#39;,&#39;color&#39;]
        if keys[0] in config:
            self.rain_drops = config.get(keys[0])
        if keys[1] in config:
            self.drop_length = config.get(keys[1])
        if keys[2] in config:
            self.drop_width = config.get(keys[2])
        if keys[3] in config:
            self.blurr = config.get(keys[3])
        if keys[4] in config:
            self.color = config.get(keys[4])


    def generate_random_lines(self,imshape:tuple,slant:int)-&gt;list:
        &#34;&#34;&#34;Function for generating random lines, it also makes the lines slant in diffrent orientations.

        Args:
            imshape (tuple(int,int)): A tuple containing the demensions of the image
            slant (int): Determins how slantet the lines should be

        Returns:
            List: List containnig the coordinats for each of the drops or flakes generated.
        &#34;&#34;&#34;
        drops=[]    
        for i in range(self.rain_drops):
            if slant&lt;0:
                x= np.random.randint(slant,imshape[1])
            else:
                x= np.random.randint(0,imshape[1]-slant)
            y= np.random.randint(0,imshape[0]-self.drop_length)
            drops.append((x,y))
        return drops
            
    def add_rain(self,image:Image.Image)-&gt;Image.Image:
        &#34;&#34;&#34;The function takes a image and adds rain or snow.

        Args:
            image (PIL.Image.Image): The input is a open PIL image

        Returns:
            PIL.Image.Image: The output is a open PIL image
        &#34;&#34;&#34;
        image.load()
        image = np.asarray(image, dtype=&#34;int32&#34;)

        imshape = image.shape    
        slant_extreme=5  
        slant= np.random.randint(-slant_extreme,slant_extreme)     
        drop_color=self.color   
        self.rain_drops= self.generate_random_lines(imshape,slant)
        rand = random.uniform(0.5, 1)
        for rain_drop in self.rain_drops:        
            cv2.line(image,(rain_drop[0],rain_drop[1]),(rain_drop[0]+slant,rain_drop[1]+int(round(self.drop_length*rand))),drop_color,int(round(self.drop_width*rand)))    
        image= cv2.blur(image,self.blurr) 

        return convertToPILImg(image, normilized=False) 

def QuickDebug()-&gt;None:
    &#34;&#34;&#34;Small function to test the weather class
    &#34;&#34;&#34;
    img = Image.open(get_paths(&#34;dataset&#34;))
    p = {&#39;rain_drops&#39;:300, &#39;drop_length&#39;:7,&#39;drop_width&#39;:2,&#39;blurr&#39;:(2,2),&#39;color&#39;:(130,130,130)}
    pn = weather(p)
    img = pn.add_rain(img).show()

#AddParticels(&#34;C:/Users/madsh/OneDrive/Code/Python/BiksTurePy/FullIJCNN2013/00/00000.ppm&#34;, frequency=10, LoopJumpX=3, LoopJumpY=2)
#AddParticels(&#34;C:/Users/madsh/OneDrive/Code/Python/BiksTurePy/FullIJCNN2013/00000.ppm&#34;, size=0.8, frequency=80, Opacity=50, LoopJumpX=5, LoopJumpY=5)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="src.Noise_Generators.weather.QuickDebug"><code class="name flex">
<span>def <span class="ident">QuickDebug</span></span>(<span>) ‑> NoneType</span>
</code></dt>
<dd>
<div class="desc"><p>Small function to test the weather class</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def QuickDebug()-&gt;None:
    &#34;&#34;&#34;Small function to test the weather class
    &#34;&#34;&#34;
    img = Image.open(get_paths(&#34;dataset&#34;))
    p = {&#39;rain_drops&#39;:300, &#39;drop_length&#39;:7,&#39;drop_width&#39;:2,&#39;blurr&#39;:(2,2),&#39;color&#39;:(130,130,130)}
    pn = weather(p)
    img = pn.add_rain(img).show()</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="src.Noise_Generators.weather.weather"><code class="flex name class">
<span>class <span class="ident">weather</span></span>
<span>(</span><span>config: dict)</span>
</code></dt>
<dd>
<div class="desc"><p>The weather class is a class used to draw snow and rain onto exsistig pictures</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Image.Image</code></dt>
<dd>The image returned will have add some noise based on the config file given to the function at instatiaction.</dd>
</dl>
<p>Instatiation of the class with a config file will overide the default values</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>config</code></strong> :&ensp;<code>dict</code></dt>
<dd>The input should be a dictionary where the key is the name of the variable to change,</dd>
</dl>
<p>The value would then be the value refresen by the keyword.
keys = ['rain_drops','drop_length','drop_width,'blurr,'color']</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class weather:
    &#34;&#34;&#34;The weather class is a class used to draw snow and rain onto exsistig pictures

    Returns:
        Image.Image: The image returned will have add some noise based on the config file given to the function at instatiaction.
    &#34;&#34;&#34;
    #default values
    rain_drops = 200
    drop_length = 2
    drop_width = 2
    blurr = (5,5)
    color = (200,200,200)

    def __init__(self,config:dict)-&gt;object:
        &#34;&#34;&#34;Instatiation of the class with a config file will overide the default values

        Args:
            config (dict): The input should be a dictionary where the key is the name of the variable to change,
            The value would then be the value refresen by the keyword.
            keys = [&#39;rain_drops&#39;,&#39;drop_length&#39;,&#39;drop_width,&#39;blurr,&#39;color&#39;]
        &#34;&#34;&#34;
        keys = [&#39;rain_drops&#39;,&#39;drop_length&#39;,&#39;drop_width&#39;,&#39;blurr&#39;,&#39;color&#39;]
        if keys[0] in config:
            self.rain_drops = config.get(keys[0])
        if keys[1] in config:
            self.drop_length = config.get(keys[1])
        if keys[2] in config:
            self.drop_width = config.get(keys[2])
        if keys[3] in config:
            self.blurr = config.get(keys[3])
        if keys[4] in config:
            self.color = config.get(keys[4])


    def generate_random_lines(self,imshape:tuple,slant:int)-&gt;list:
        &#34;&#34;&#34;Function for generating random lines, it also makes the lines slant in diffrent orientations.

        Args:
            imshape (tuple(int,int)): A tuple containing the demensions of the image
            slant (int): Determins how slantet the lines should be

        Returns:
            List: List containnig the coordinats for each of the drops or flakes generated.
        &#34;&#34;&#34;
        drops=[]    
        for i in range(self.rain_drops):
            if slant&lt;0:
                x= np.random.randint(slant,imshape[1])
            else:
                x= np.random.randint(0,imshape[1]-slant)
            y= np.random.randint(0,imshape[0]-self.drop_length)
            drops.append((x,y))
        return drops
            
    def add_rain(self,image:Image.Image)-&gt;Image.Image:
        &#34;&#34;&#34;The function takes a image and adds rain or snow.

        Args:
            image (PIL.Image.Image): The input is a open PIL image

        Returns:
            PIL.Image.Image: The output is a open PIL image
        &#34;&#34;&#34;
        image.load()
        image = np.asarray(image, dtype=&#34;int32&#34;)

        imshape = image.shape    
        slant_extreme=5  
        slant= np.random.randint(-slant_extreme,slant_extreme)     
        drop_color=self.color   
        self.rain_drops= self.generate_random_lines(imshape,slant)
        rand = random.uniform(0.5, 1)
        for rain_drop in self.rain_drops:        
            cv2.line(image,(rain_drop[0],rain_drop[1]),(rain_drop[0]+slant,rain_drop[1]+int(round(self.drop_length*rand))),drop_color,int(round(self.drop_width*rand)))    
        image= cv2.blur(image,self.blurr) 

        return convertToPILImg(image, normilized=False) </code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="src.Noise_Generators.weather.weather.blurr"><code class="name">var <span class="ident">blurr</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="src.Noise_Generators.weather.weather.color"><code class="name">var <span class="ident">color</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="src.Noise_Generators.weather.weather.drop_length"><code class="name">var <span class="ident">drop_length</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="src.Noise_Generators.weather.weather.drop_width"><code class="name">var <span class="ident">drop_width</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="src.Noise_Generators.weather.weather.rain_drops"><code class="name">var <span class="ident">rain_drops</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="src.Noise_Generators.weather.weather.add_rain"><code class="name flex">
<span>def <span class="ident">add_rain</span></span>(<span>self, image: PIL.Image.Image) ‑> PIL.Image.Image</span>
</code></dt>
<dd>
<div class="desc"><p>The function takes a image and adds rain or snow.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>image</code></strong> :&ensp;<code>PIL.Image.Image</code></dt>
<dd>The input is a open PIL image</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>PIL.Image.Image</code></dt>
<dd>The output is a open PIL image</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add_rain(self,image:Image.Image)-&gt;Image.Image:
    &#34;&#34;&#34;The function takes a image and adds rain or snow.

    Args:
        image (PIL.Image.Image): The input is a open PIL image

    Returns:
        PIL.Image.Image: The output is a open PIL image
    &#34;&#34;&#34;
    image.load()
    image = np.asarray(image, dtype=&#34;int32&#34;)

    imshape = image.shape    
    slant_extreme=5  
    slant= np.random.randint(-slant_extreme,slant_extreme)     
    drop_color=self.color   
    self.rain_drops= self.generate_random_lines(imshape,slant)
    rand = random.uniform(0.5, 1)
    for rain_drop in self.rain_drops:        
        cv2.line(image,(rain_drop[0],rain_drop[1]),(rain_drop[0]+slant,rain_drop[1]+int(round(self.drop_length*rand))),drop_color,int(round(self.drop_width*rand)))    
    image= cv2.blur(image,self.blurr) 

    return convertToPILImg(image, normilized=False) </code></pre>
</details>
</dd>
<dt id="src.Noise_Generators.weather.weather.generate_random_lines"><code class="name flex">
<span>def <span class="ident">generate_random_lines</span></span>(<span>self, imshape: tuple, slant: int) ‑> list</span>
</code></dt>
<dd>
<div class="desc"><p>Function for generating random lines, it also makes the lines slant in diffrent orientations.</p>
<h2 id="args">Args</h2>
<dl>
<dt>imshape (tuple(int,int)): A tuple containing the demensions of the image</dt>
<dt><strong><code>slant</code></strong> :&ensp;<code>int</code></dt>
<dd>Determins how slantet the lines should be</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>List</code></dt>
<dd>List containnig the coordinats for each of the drops or flakes generated.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def generate_random_lines(self,imshape:tuple,slant:int)-&gt;list:
    &#34;&#34;&#34;Function for generating random lines, it also makes the lines slant in diffrent orientations.

    Args:
        imshape (tuple(int,int)): A tuple containing the demensions of the image
        slant (int): Determins how slantet the lines should be

    Returns:
        List: List containnig the coordinats for each of the drops or flakes generated.
    &#34;&#34;&#34;
    drops=[]    
    for i in range(self.rain_drops):
        if slant&lt;0:
            x= np.random.randint(slant,imshape[1])
        else:
            x= np.random.randint(0,imshape[1]-slant)
        y= np.random.randint(0,imshape[0]-self.drop_length)
        drops.append((x,y))
    return drops</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="src.Noise_Generators" href="index.html">src.Noise_Generators</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="src.Noise_Generators.weather.QuickDebug" href="#src.Noise_Generators.weather.QuickDebug">QuickDebug</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="src.Noise_Generators.weather.weather" href="#src.Noise_Generators.weather.weather">weather</a></code></h4>
<ul class="">
<li><code><a title="src.Noise_Generators.weather.weather.add_rain" href="#src.Noise_Generators.weather.weather.add_rain">add_rain</a></code></li>
<li><code><a title="src.Noise_Generators.weather.weather.blurr" href="#src.Noise_Generators.weather.weather.blurr">blurr</a></code></li>
<li><code><a title="src.Noise_Generators.weather.weather.color" href="#src.Noise_Generators.weather.weather.color">color</a></code></li>
<li><code><a title="src.Noise_Generators.weather.weather.drop_length" href="#src.Noise_Generators.weather.weather.drop_length">drop_length</a></code></li>
<li><code><a title="src.Noise_Generators.weather.weather.drop_width" href="#src.Noise_Generators.weather.weather.drop_width">drop_width</a></code></li>
<li><code><a title="src.Noise_Generators.weather.weather.generate_random_lines" href="#src.Noise_Generators.weather.weather.generate_random_lines">generate_random_lines</a></code></li>
<li><code><a title="src.Noise_Generators.weather.weather.rain_drops" href="#src.Noise_Generators.weather.weather.rain_drops">rain_drops</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.1</a>.</p>
</footer>
</body>
</html>